---
output: github_document
---


<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, echo = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-"
)
```

<!-- badges: start -->
[![Travis build status](https://travis-ci.org/hypertidy/tropo.svg?branch=master)](https://travis-ci.org/hypertidy/tropo)
[![AppVeyor build status](https://ci.appveyor.com/api/projects/status/github/hypertidy/tropo?branch=master&svg=true)](https://ci.appveyor.com/project/hypertidy/tropo)
[![Lifecycle: experimental](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://www.tidyverse.org/lifecycle/#experimental)
[![CRAN status](https://www.r-pkg.org/badges/version/tropo)](https://CRAN.R-project.org/package=tropo)
<!-- badges: end -->
  
# tropo

Abstract tiling schemes. 


Given a grid, impose a tiling scheme. The dangle is overlap the tiles impose (in pixels). 

We use the term "block" to refer to the size of each tile in pixels. 

Consider a raster 16 x 12, with 4 x 4 tiling there is no overlap. 

```{r overlap}
library(tropo)
r0 <- raster::raster(matrix(0, 12, 16), xmn = 0, xmx = 16, ymn = 0, ymx = 12)
tiles(r0, blockX = 4, blockY = 4)

```

But, if our raster has an dimension that doesn't divide neatly into the block size, 
then there is some tile overlap. This should work for any raster dimension and any arbitrary tile size. 


```{r dangle}
r1 <- raster::raster(matrix(0, 13, 15), xmn = 0, xmx = 15, ymn = 0, ymx = 13)
tiles(r1, 4, 4)

```


```{r grid}

r <- raster::raster(matrix(1:12, 30, 44), xmn= 0,xmx = 4, ymn = 0, ymx = 3)


(t1 <- tiles(r, blockX = 12, blockY = 12))
plot(t1)

(t2 <- tiles(volcano, 12, 16))

plot(t2)
```

We can generate polygons from these. 

```{r poly}
p <- as_polys(t1)

sp::plot(p)
```

Or just plot the scheme. 

```{r plot}
plot(t1)
```


---

Please note that the 'tropo' project is released with a
[Contributor Code of Conduct](https://github.com/hypertidy/tropo/blob/master/CODE_OF_CONDUCT.md).
By contributing to this project, you agree to abide by its terms.
