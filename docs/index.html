<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Create Raster Tiles • grout</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Create Raster Tiles">
<meta property="og:description" content="Create raster tiles abstractly, or from large input files. ">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">grout</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/hypertidy/grout">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">


<div id="grout" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#grout" class="anchor"></a>grout</h1></div>
<p>Abstract tiling schemes.</p>
<p>Given a grid, impose a tiling scheme. The dangle is overlap the tiles impose (in pixels).</p>
<p>We use the term “block” to refer to the size of each tile in pixels.</p>
<p>Consider a raster 16 x 12, with 4 x 4 tiling there is no overlap.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(grout)</span>
<span id="cb1-2"><a href="#cb1-2"></a>r0 &lt;-<span class="st"> </span>raster<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/raster/man/raster.html">raster</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span>(<span class="dv">0</span>, <span class="dv">12</span>, <span class="dv">16</span>), <span class="dt">xmn =</span> <span class="dv">0</span>, <span class="dt">xmx =</span> <span class="dv">16</span>, <span class="dt">ymn =</span> <span class="dv">0</span>, <span class="dt">ymx =</span> <span class="dv">12</span>)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="kw"><a href="reference/tiles.html">tiles</a></span>(r0, <span class="dt">blockX =</span> <span class="dv">4</span>, <span class="dt">blockY =</span> <span class="dv">4</span>)</span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="co">#&gt;           tiles: 4, 3 (x * y = 12)</span></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="co">#&gt;           block: 4, 4 </span></span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="co">#&gt;          dangle: 0, 0 </span></span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="co">#&gt; tile resolution: 4, 4 </span></span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="co">#&gt;     tile extent: 0, 16, 0, 12 (xmin,xmax,ymin,ymax)</span></span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="co">#&gt;           grain: 1, 1 (4 : x, 4 : y)</span></span></code></pre></div>
<p>But, if our raster has an dimension that doesn’t divide neatly into the block size, then there is some tile overlap. This should work for any raster dimension and any arbitrary tile size.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>r1 &lt;-<span class="st"> </span>raster<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/raster/man/raster.html">raster</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span>(<span class="dv">0</span>, <span class="dv">13</span>, <span class="dv">15</span>), <span class="dt">xmn =</span> <span class="dv">0</span>, <span class="dt">xmx =</span> <span class="dv">15</span>, <span class="dt">ymn =</span> <span class="dv">0</span>, <span class="dt">ymx =</span> <span class="dv">13</span>)</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="kw"><a href="reference/tiles.html">tiles</a></span>(r1, <span class="dv">4</span>, <span class="dv">4</span>)</span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="co">#&gt;           tiles: 4, 4 (x * y = 16)</span></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="co">#&gt;           block: 4, 4 </span></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="co">#&gt;          dangle: 1, 3 </span></span>
<span id="cb2-6"><a href="#cb2-6"></a><span class="co">#&gt; tile resolution: 4, 4 </span></span>
<span id="cb2-7"><a href="#cb2-7"></a><span class="co">#&gt;     tile extent: 0, 16, -3, 13 (xmin,xmax,ymin,ymax)</span></span>
<span id="cb2-8"><a href="#cb2-8"></a><span class="co">#&gt;           grain: 1, 1 (4 : x, 4 : y)</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a></span>
<span id="cb3-2"><a href="#cb3-2"></a>r &lt;-<span class="st"> </span>raster<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/raster/man/raster.html">raster</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span>(<span class="dv">1</span><span class="op">:</span><span class="dv">12</span>, <span class="dv">30</span>, <span class="dv">44</span>), <span class="dt">xmn=</span> <span class="dv">0</span>,<span class="dt">xmx =</span> <span class="dv">4</span>, <span class="dt">ymn =</span> <span class="dv">0</span>, <span class="dt">ymx =</span> <span class="dv">3</span>)</span>
<span id="cb3-3"><a href="#cb3-3"></a></span>
<span id="cb3-4"><a href="#cb3-4"></a></span>
<span id="cb3-5"><a href="#cb3-5"></a>(t1 &lt;-<span class="st"> </span><span class="kw"><a href="reference/tiles.html">tiles</a></span>(r, <span class="dt">blockX =</span> <span class="dv">12</span>, <span class="dt">blockY =</span> <span class="dv">12</span>))</span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="co">#&gt;           tiles: 4, 3 (x * y = 12)</span></span>
<span id="cb3-7"><a href="#cb3-7"></a><span class="co">#&gt;           block: 12, 12 </span></span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="co">#&gt;          dangle: 4, 6 </span></span>
<span id="cb3-9"><a href="#cb3-9"></a><span class="co">#&gt; tile resolution: 1.090909, 1.2 </span></span>
<span id="cb3-10"><a href="#cb3-10"></a><span class="co">#&gt;     tile extent: 0, 4.363636, -0.6, 3 (xmin,xmax,ymin,ymax)</span></span>
<span id="cb3-11"><a href="#cb3-11"></a><span class="co">#&gt;           grain: 0.09090909, 0.1 (12 : x, 12 : y)</span></span>
<span id="cb3-12"><a href="#cb3-12"></a><span class="kw"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(t1)</span></code></pre></div>
<p><img src="reference/figures/README-grid-1.png"><!-- --></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a></span>
<span id="cb4-2"><a href="#cb4-2"></a>(t2 &lt;-<span class="st"> </span><span class="kw"><a href="reference/tiles.html">tiles</a></span>(volcano, <span class="dv">12</span>, <span class="dv">16</span>))</span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="co">#&gt;           tiles: 6, 6 (x * y = 36)</span></span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="co">#&gt;           block: 12, 16 </span></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="co">#&gt;          dangle: 11, 9 </span></span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="co">#&gt; tile resolution: 0.1967213, 0.183908 </span></span>
<span id="cb4-7"><a href="#cb4-7"></a><span class="co">#&gt;     tile extent: 0, 1.180328, -0.1034483, 1 (xmin,xmax,ymin,ymax)</span></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="co">#&gt;           grain: 0.01639344, 0.01149425 (12 : x, 16 : y)</span></span>
<span id="cb4-9"><a href="#cb4-9"></a></span>
<span id="cb4-10"><a href="#cb4-10"></a><span class="kw"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(t2)</span></code></pre></div>
<p><img src="reference/figures/README-grid-2.png"><!-- --></p>
<p>We can generate polygons from these.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>p &lt;-<span class="st"> </span><span class="kw"><a href="reference/as_polys.html">as_polys</a></span>(t1)</span>
<span id="cb5-2"><a href="#cb5-2"></a></span>
<span id="cb5-3"><a href="#cb5-3"></a>sp<span class="op">::</span><span class="kw">plot</span>(p)</span></code></pre></div>
<p><img src="reference/figures/README-poly-1.png"><!-- --></p>
<p>Or just plot the scheme.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="kw"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(t1)</span></code></pre></div>
<p><img src="reference/figures/README-plot-1.png"><!-- --></p>
<hr>
<p>Please note that the ‘grout’ project is released with a <a href="https://github.com/hypertidy/grout/blob/master/CODE_OF_CONDUCT.md">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/hypertidy/grout">https://​github.com/​hypertidy/​grout</a>
</li>
<li>Report a bug at <br><a href="https://github.com/hypertidy/grout/issues">https://​github.com/​hypertidy/​grout/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></li>
</ul>
</div>
<div class="community">
<h2>Community</h2>
<ul class="list-unstyled">
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Michael D. Sumner <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/hypertidy/grout"><img src="https://travis-ci.org/hypertidy/grout.svg?branch=master" alt="Travis build status"></a></li>
<li><a href="https://ci.appveyor.com/project/hypertidy/grout"><img src="https://ci.appveyor.com/api/projects/status/github/hypertidy/grout?branch=master&amp;svg=true" alt="AppVeyor build status"></a></li>
<li><a href="https://www.tidyverse.org/lifecycle/#experimental"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://CRAN.R-project.org/package=grout"><img src="https://www.r-pkg.org/badges/version/grout" alt="CRAN status"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Michael D. Sumner.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
